{% load static %}
{% include "database_of_janacek_works/main_menu.html" %}

<!doctype html>
<html xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8">
    <title></title>

    {% comment %}<script type="text/javascript" charset="utf8" src="//cdn.datatables.net/plug-ins/1.10.10/api/page.jumpToData().js"></script>{% endcomment %}

</head>
<body>
<table id="arrangement" class="hover" cellspacing="0" width="100%" data-url="{% url 'rest_arrangement' %}">
    <thead>
    <tr>
        <th>suitable_for</th>
        <th>arrangemet_for</th>
        <th>arrangemet_by</th>
        <th>perfomr_by</th>
    </tr>
    </thead>
    <tbody>

    </tbody>
    <tfoot>
    <tr>

    </tr>
    </tfoot>
</table>


</body>

<script  type="text/javascript">

jQuery.fn.dataTable.Api.register( 'page.jumpToData()', function ( data, column ) {
	var pos = this.column(column, {order:'current'}).data().indexOf( data );

	if ( pos >= 0 ) {
		var page = Math.floor( pos / this.page.info().length );
		this.page( page ).draw( false );
	}

	return this;
    } );



    $(document).ready(function() {
        var table = $('#arrangement').DataTable( {
            "processing": true,
            "serverSide": true,
            "dataType": "json",
            "pageLength": 20,
            //"stateSave": true,
            "ajax": "{% url 'rest_arrangement' %}",
            "columns": [
                {}, {}, {}, {}
            ],
            {% comment %}"oSearch": {"sSearch": "orchestra"}{% endcomment %}
            {% comment %},
            "columnDefs":
                {
                    "targets":[3],
                    "visible": false
                },
                {
                    "targets":[4],
                    "visible": false
                },
                {
                    "targets":[5],
                    "visible": false
                },
                {
                    "targets":[6],
                    "visible": false
                },
                {
                    "targets":[7],
                    "visible": false
                },
                {
                    "targets":[8],
                    "visible": false
                }
            ]{% endcomment %}
        });

        table.page.jumpToData(  "Rolf Smedwig", 2  )
    });
  </script>

{% comment %}<script>

    $(document).ready(function() {
    var table = $('#arrangement').DataTable();

    $('#arrangement tbody').on( 'click', 'tr', function () {
        if ( $(this).hasClass('selected') ) {
            $(this).removeClass('selected');
        }
        else {
            table.$('tr.selected').removeClass('selected');
            $(this).addClass('selected');
        }
    } );
} );

</script>{% endcomment %}


</html>